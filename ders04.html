<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ders 04: Fonksiyonlar | BERK 101</title>
    <meta name="description" content="BERK'te fonksiyon tanÄ±mlama, parametreler ve dÃ¶nÃ¼ÅŸ deÄŸerleri">
    <meta name="ai-lesson" content="4">
    <meta name="ai-topics" content="functions,parameters,return,recursion">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand"><a href="index.html" style="text-decoration:none;color:inherit;display:flex;align-items:center;gap:0.5rem;"><span class="logo">ğŸ¦…</span><span class="brand-text">BERK 101</span></a></div>
        <div class="nav-links"><a href="index.html#dersler">TÃ¼m Dersler</a></div>
        <div class="level-switch">
            <button class="level-btn" data-level="ortaokul" title="11-14 yaÅŸ">ğŸ® Ortaokul</button>
            <button class="level-btn active" data-level="lise" title="15-18 yaÅŸ">ğŸ“š Lise</button>
            <button class="level-btn" data-level="universite" title="18+ yaÅŸ">ğŸ“ Ãœniversite</button>
        </div>
        <div class="lang-switch"><button class="lang-btn active" data-lang="tr">TR</button><button class="lang-btn" data-lang="en">EN</button></div>
    </nav>

    <header class="lesson-header">
        <div class="lesson-nav">
            <a href="ders03.html">â† <span class="tr">Ã–nceki</span><span class="en" style="display:none;">Previous</span></a>
            <span class="lesson-meta"><span class="tr">Ders 4 / 10</span><span class="en" style="display:none;">Lesson 4 / 10</span></span>
        </div>
        <h1 class="lesson-title"><span class="tr">âš™ï¸ Fonksiyonlar</span><span class="en" style="display:none;">âš™ï¸ Functions</span></h1>
        
        <div class="level-info-box" style="margin-top:1rem;">
            <div class="level-info ortaokul-info">
                <span class="level-badge">ğŸ® Ortaokul</span>
                <span class="tr">Bu derste: BÃ¼yÃ¼ kitabÄ± - Tekrar kullanÄ±labilir bÃ¼yÃ¼ler yaz!</span>
                <span class="en" style="display:none;">In this lesson: Spell book - Write reusable spells!</span>
            </div>
            <div class="level-info lise-info" style="display:flex;">
                <span class="level-badge">ğŸ“š Lise</span>
                <span class="tr">Bu derste: Fonksiyonlar ile kodu organize et</span>
                <span class="en" style="display:none;">In this lesson: Organize code with functions</span>
            </div>
            <div class="level-info universite-info">
                <span class="level-badge">ğŸ“ Ãœniversite</span>
                <span class="tr">Bu derste: Higher-order functions, closures ve generics</span>
                <span class="en" style="display:none;">In this lesson: Higher-order functions, closures, and generics</span>
            </div>
        </div>
    </header>

    <main class="lesson-content">
        <!-- ==================== ORTAOKUL ==================== -->
        <div class="ortaokul-content">
            <section class="lesson-section">
                <h2>ğŸ“– <span class="tr">BÃ¼yÃ¼ KitabÄ±</span><span class="en" style="display:none;">Spell Book</span></h2>
                <p><span class="tr">Fonksiyonlar, <strong>bÃ¼yÃ¼ler</strong> gibidir! Bir kere yaz, istediÄŸin kadar kullan. ğŸ§™â€â™‚ï¸</span><span class="en" style="display:none;">Functions are like <strong>spells</strong>! Write once, use many times. ğŸ§™â€â™‚ï¸</span></p>
            </section>

            <section class="lesson-section">
                <h2>ğŸ“ <span class="tr">Ã–rnek 1: SaldÄ±rÄ± BÃ¼yÃ¼leri</span><span class="en" style="display:none;">Example 1: Attack Spells</span></h2>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">ğŸ”® buyuler.berk</span><button onclick="copyCode(this)">ğŸ“‹ Kopyala</button></div>
                    <pre><code>// ğŸ”¥ AteÅŸ topu bÃ¼yÃ¼sÃ¼
fonksiyon ates_topu() {
    yazdir("ğŸ”¥ ATEÅ TOPU!");
    yazdir("ğŸ’¥ 50 hasar verdin!");
}

// â„ï¸ Buz oku bÃ¼yÃ¼sÃ¼
fonksiyon buz_oku() {
    yazdir("â„ï¸ BUZ OKU!");
    yazdir("ğŸ’¥ 30 hasar + yavaÅŸlatma!");
}

// âš¡ ÅimÅŸek bÃ¼yÃ¼sÃ¼ - parametre ile
fonksiyon simsek(guc: tamsayÄ±) {
    yazdir("âš¡ ÅÄ°MÅEK! GÃ¼Ã§: {}", guc);
    deÄŸiÅŸken hasar = guc * 10;
    yazdir("ğŸ’¥ {} hasar verdin!", hasar);
}

fonksiyon ana() {
    yazdir("ğŸ§™â€â™‚ï¸ BÃ¼yÃ¼cÃ¼ savaÅŸa hazÄ±r!\n");
    
    ates_topu();
    yazdir("");
    
    buz_oku();
    yazdir("");
    
    simsek(5);  // 50 hasar
    simsek(10); // 100 hasar!
}
</code></pre>
                </div>
            </section>

            <section class="lesson-section">
                <h2>ğŸ“ <span class="tr">Ã–rnek 2: Karakter Yetenekleri</span><span class="en" style="display:none;">Example 2: Character Abilities</span></h2>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">ğŸ¦¸ yetenekler.berk</span><button onclick="copyCode(this)">ğŸ“‹ Kopyala</button></div>
                    <pre><code>// Ä°yileÅŸtirme bÃ¼yÃ¼sÃ¼ - deÄŸer dÃ¶ndÃ¼rÃ¼yor!
fonksiyon iyilestir(mevcut_can: tamsayÄ±) -> tamsayÄ± {
    deÄŸiÅŸken iyilesme = 25;
    yazdir("ğŸ’š +{} can iyileÅŸtirildi!", iyilesme);
    don mevcut_can + iyilesme;
}

// Hasar hesapla
fonksiyon hasar_hesapla(guc: tamsayÄ±, zirh: tamsayÄ±) -> tamsayÄ± {
    deÄŸiÅŸken net_hasar = guc - zirh;
    eÄŸer net_hasar < 0 yap
        don 0;
    son
    don net_hasar;
}

fonksiyon ana() {
    deÄŸiÅŸken mut can = 50;
    yazdir("â¤ï¸ BaÅŸlangÄ±Ã§ canÄ±: {}", can);
    
    can = iyilestir(can);
    yazdir("â¤ï¸ Åimdiki can: {}", can);
    
    can = iyilestir(can);
    yazdir("â¤ï¸ Åimdiki can: {}", can);
    
    yazdir("\nâš”ï¸ SavaÅŸ!");
    deÄŸiÅŸken hasar = hasar_hesapla(30, 10);
    yazdir("AlÄ±nan hasar: {}", hasar);
}
</code></pre>
                </div>

                <div class="exercise-box">
                    <h4>ğŸ¯ <span class="tr">Senin GÃ¶revin!</span><span class="en" style="display:none;">Your Mission!</span></h4>
                    <ol>
                        <li><span class="tr">"Kalkan" bÃ¼yÃ¼sÃ¼ yaz - zÄ±rhÄ± 2 katÄ±na Ã§Ä±karsÄ±n!</span><span class="en" style="display:none;">Write a "Shield" spell that doubles armor!</span></li>
                        <li><span class="tr">"Kritik VuruÅŸ" fonksiyonu yaz - %20 ÅŸansla hasar 3 katÄ±na Ã§Ä±ksÄ±n!</span><span class="en" style="display:none;">Write "Critical Hit" function - 20% chance for 3x damage!</span></li>
                    </ol>
                </div>
            </section>
        </div>

        <!-- ==================== LÄ°SE ==================== -->
        <div class="lise-content" style="display:none;">
            <section class="lesson-section">
                <h2>ğŸ“– <span class="tr">Fonksiyon YapÄ±sÄ±</span><span class="en" style="display:none;">Function Structure</span></h2>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">BERK</span></div>
                    <pre><code>// Temel fonksiyon yapÄ±sÄ±
fonksiyon isim(parametre: tip) -> donus_tipi {
    // kod
    don deger;
}

// Ã–rnekler:
fonksiyon selamla() {                    // Parametresiz, dÃ¶nÃ¼ÅŸsÃ¼z
    yazdir("Merhaba!");
}

fonksiyon kare(x: tamsayÄ±) -> tamsayÄ± {  // Parametreli, dÃ¶nÃ¼ÅŸlÃ¼
    don x * x;
}
</code></pre>
                </div>
            </section>

            <section class="lesson-section">
                <h2>ğŸ“ <span class="tr">Ã–rnek 1: Matematik YardÄ±mcÄ±larÄ±</span><span class="en" style="display:none;">Example 1: Math Helpers</span></h2>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">ğŸ“ matematik.berk</span><button onclick="copyCode(this)">ğŸ“‹ Kopyala</button></div>
                    <pre><code>// Daire alanÄ±
fonksiyon daire_alani(yaricap: ondalÄ±k) -> ondalÄ±k {
    sabit PI = 3.14159;
    don PI * yaricap * yaricap;
}

// DikdÃ¶rtgen Ã§evresi
fonksiyon dikdortgen_cevresi(en: ondalÄ±k, boy: ondalÄ±k) -> ondalÄ±k {
    don 2.0 * (en + boy);
}

// ÃœÃ§gen alanÄ±
fonksiyon ucgen_alani(taban: ondalÄ±k, yukseklik: ondalÄ±k) -> ondalÄ±k {
    don (taban * yukseklik) / 2.0;
}

// Fahrenheit'tan Celsius'a
fonksiyon fahrenheit_to_celsius(f: ondalÄ±k) -> ondalÄ±k {
    don (f - 32.0) * 5.0 / 9.0;
}

fonksiyon ana() {
    yazdir("ğŸ“ Matematik HesaplayÄ±cÄ±\n");
    
    yazdir("Daire alanÄ± (r=5): {:.2}", daire_alani(5.0));
    yazdir("DikdÃ¶rtgen Ã§evresi (3x4): {:.2}", dikdortgen_cevresi(3.0, 4.0));
    yazdir("ÃœÃ§gen alanÄ± (t=6, h=4): {:.2}", ucgen_alani(6.0, 4.0));
    yazdir("98.6Â°F = {:.1}Â°C", fahrenheit_to_celsius(98.6));
}
</code></pre>
                </div>
            </section>

            <section class="lesson-section">
                <h2>ğŸ“ <span class="tr">Ã–rnek 2: Not HesaplayÄ±cÄ±</span><span class="en" style="display:none;">Example 2: Grade Calculator</span></h2>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">ğŸ“Š grades.berk</span><button onclick="copyCode(this)">ğŸ“‹ Copy</button></div>
                    <pre><code>function calculate_average(vize: float, final_grade: float) -> float {
    return vize * 0.4 + final_grade * 0.6;
}

function get_letter_grade(average: float) -> string {
    if average >= 90.0 do return "AA"; end
    if average >= 85.0 do return "BA"; end
    if average >= 80.0 do return "BB"; end
    if average >= 75.0 do return "CB"; end
    if average >= 70.0 do return "CC"; end
    if average >= 65.0 do return "DC"; end
    if average >= 60.0 do return "DD"; end
    if average >= 50.0 do return "FD"; end
    return "FF";
}

function is_passing(letter: &string) -> bool {
    return letter != "FF" && letter != "FD";
}

function main() {
    let vize = 75.0;
    let final_grade = 85.0;
    
    let avg = calculate_average(vize, final_grade);
    let letter = get_letter_grade(avg);
    let passed = is_passing(&letter);
    
    print("ğŸ“Š SonuÃ§lar:");
    print("  Vize: {} | Final: {}", vize, final_grade);
    print("  Ortalama: {:.1}", avg);
    print("  Harf: {}", letter);
    print("  Durum: {}", if passed do "âœ… GeÃ§ti" else do "âŒ KaldÄ±" end);
}
</code></pre>
                </div>

                <div class="exercise-box">
                    <h4>âœï¸ <span class="tr">AlÄ±ÅŸtÄ±rmalar</span><span class="en" style="display:none;">Exercises</span></h4>
                    <ol>
                        <li><span class="tr">BMI (VÃ¼cut Kitle Ä°ndeksi) hesaplayan fonksiyon yazÄ±n.</span><span class="en" style="display:none;">Write a function to calculate BMI.</span></li>
                        <li><span class="tr">Asal sayÄ± kontrolÃ¼ yapan fonksiyon yazÄ±n.</span><span class="en" style="display:none;">Write a function to check if a number is prime.</span></li>
                    </ol>
                </div>
            </section>
        </div>

        <!-- ==================== ÃœNÄ°VERSÄ°TE ==================== -->
        <div class="universite-content" style="display:none;">
            <section class="lesson-section">
                <h2>ğŸ¯ <span class="tr">Ä°leri Fonksiyon KavramlarÄ±</span><span class="en" style="display:none;">Advanced Function Concepts</span></h2>
                <ul>
                    <li><span class="tr">Higher-order functions (fonksiyon alan/dÃ¶ndÃ¼ren)</span><span class="en" style="display:none;">Higher-order functions (take/return functions)</span></li>
                    <li><span class="tr">Closures ve captured variables</span><span class="en" style="display:none;">Closures and captured variables</span></li>
                    <li><span class="tr">Generic functions</span><span class="en" style="display:none;">Generic functions</span></li>
                    <li><span class="tr">Function pointers vs closures</span><span class="en" style="display:none;">Function pointers vs closures</span></li>
                </ul>
            </section>

            <section class="lesson-section">
                <h2>ğŸ“ <span class="tr">Ã–rnek 1: Higher-Order Functions</span><span class="en" style="display:none;">Example 1: Higher-Order Functions</span></h2>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">BERK (Advanced)</span><button onclick="copyCode(this)">ğŸ“‹ Copy</button></div>
                    <pre><code>// Function that takes a function as parameter
function apply_twice<T, F>(f: F, x: T) -> T 
where 
    F: Fn(T) -> T,
    T: Copy 
{
    f(f(x))
}

// Function that returns a function (closure)
function make_multiplier(factor: i32) -> impl Fn(i32) -> i32 {
    move |x| x * factor
}

// Function composition
function compose<A, B, C, F, G>(f: F, g: G) -> impl Fn(A) -> C
where
    F: Fn(A) -> B,
    G: Fn(B) -> C,
{
    move |x| g(f(x))
}

function main() {
    // Higher-order function usage
    let double = |x: i32| x * 2;
    let result = apply_twice(double, 5);  // 5 -> 10 -> 20
    print("apply_twice(double, 5) = {}", result);
    
    // Closure factory
    let triple = make_multiplier(3);
    let quadruple = make_multiplier(4);
    print("triple(10) = {}", triple(10));      // 30
    print("quadruple(10) = {}", quadruple(10)); // 40
    
    // Function composition
    let add_one = |x: i32| x + 1;
    let square = |x: i32| x * x;
    let add_then_square = compose(add_one, square);
    print("(5 + 1)Â² = {}", add_then_square(5));  // 36
}
</code></pre>
                </div>
            </section>

            <section class="lesson-section">
                <h2>ğŸ“ <span class="tr">Ã–rnek 2: Generic Pipeline</span><span class="en" style="display:none;">Example 2: Generic Pipeline</span></h2>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">BERK (Generics)</span><button onclick="copyCode(this)">ğŸ“‹ Copy</button></div>
                    <pre><code>// Generic max function
function max<T: Ord>(a: T, b: T) -> T {
    if a > b { a } else { b }
}

// Generic find function
function find<T: PartialEq>(slice: &[T], target: &T) -> Option<usize> {
    for (i, item) in slice.iter().enumerate() {
        if item == target {
            return Some(i);
        }
    }
    None
}

// Pipeline builder pattern
struct Pipeline<T> {
    value: T,
}

impl<T> Pipeline<T> {
    function new(value: T) -> Self {
        Pipeline { value }
    }
    
    function map<U, F: FnOnce(T) -> U>(self, f: F) -> Pipeline<U> {
        Pipeline { value: f(self.value) }
    }
    
    function tap<F: FnOnce(&T)>(self, f: F) -> Self {
        f(&self.value);
        self
    }
    
    function unwrap(self) -> T {
        self.value
    }
}

function main() {
    // Generic functions
    print("max(10, 20) = {}", max(10, 20));
    print("max('a', 'z') = {}", max('a', 'z'));
    
    let numbers = [1, 2, 3, 4, 5];
    print("find 3: {:?}", find(&numbers, &3));  // Some(2)
    print("find 9: {:?}", find(&numbers, &9));  // None
    
    // Pipeline pattern
    let result = Pipeline::new(5)
        .tap(|x| print("Initial: {}", x))
        .map(|x| x * 2)
        .tap(|x| print("After *2: {}", x))
        .map(|x| x + 10)
        .tap(|x| print("After +10: {}", x))
        .unwrap();
    
    print("Final result: {}", result);  // 20
}
</code></pre>
                </div>

                <div class="exercise-box">
                    <h4>ğŸ“ <span class="tr">Ä°leri Seviye AlÄ±ÅŸtÄ±rmalar</span><span class="en" style="display:none;">Advanced Exercises</span></h4>
                    <ol>
                        <li><span class="tr">Memoization decorator fonksiyonu implemente edin.</span><span class="en" style="display:none;">Implement a memoization decorator function.</span></li>
                        <li><span class="tr">Generic <code>fold</code> fonksiyonu yazÄ±n (reduce pattern).</span><span class="en" style="display:none;">Write a generic <code>fold</code> function (reduce pattern).</span></li>
                    </ol>
                </div>
            </section>
        </div>

        <!-- ORTAK Ã–ZET -->
        <section class="lesson-section">
            <h2>ğŸ“Œ <span class="tr">Ã–zet</span><span class="en" style="display:none;">Summary</span></h2>
            <ul>
                <li><span class="tr"><code>fonksiyon</code>/<code>function</code> ile fonksiyon tanÄ±mlanÄ±r</span><span class="en" style="display:none;"><code>fonksiyon</code>/<code>function</code> defines a function</span></li>
                <li><span class="tr">Parametreler <code>isim: tip</code> formatÄ±nda yazÄ±lÄ±r</span><span class="en" style="display:none;">Parameters use <code>name: type</code> format</span></li>
                <li><span class="tr"><code>-> tip</code> ile dÃ¶nÃ¼ÅŸ tipi belirtilir</span><span class="en" style="display:none;"><code>-> type</code> specifies return type</span></li>
                <li><span class="tr"><code>don</code>/<code>return</code> ile deÄŸer dÃ¶ndÃ¼rÃ¼lÃ¼r</span><span class="en" style="display:none;"><code>don</code>/<code>return</code> returns a value</span></li>
            </ul>
        </section>
    </main>

    <footer class="lesson-footer">
        <a href="ders03.html">â† <span class="tr">Ã–nceki</span><span class="en" style="display:none;">Previous</span></a>
        <a href="ders05.html"><span class="tr">Sonraki: YapÄ±lar â†’</span><span class="en" style="display:none;">Next: Structures â†’</span></a>
    </footer>
    <script src="js/main.js"></script>
</body>
</html>



